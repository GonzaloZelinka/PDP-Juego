SimpleSwitchMorph subclass: #LOCell	instanceVariableNames: 'mouseAction'	classVariableNames: ''	poolDictionaries: ''	category: 'PBE-lightsOut'!!LOCell methodsFor: 'initialization' stamp: 'lucas 10/22/2021 15:10'!initializesuper initialize.self label: ''.self borderWidth: 2.bounds := 0 @ 0 corner: 16 @ 16.offColor := Color paleYellow.onColor := Color paleBlue darker.self useSquareCorners.self turnOff! !!LOCell methodsFor: 'accessing' stamp: 'lucas 10/22/2021 16:32'!mouseAction: aBlock^ mouseAction := aBlock! !!LOCell methodsFor: 'accessing' stamp: 'lucas 10/22/2021 17:02'!mouseUp: anEvent	mouseAction value! !!LOCell methodsFor: 'event handling' stamp: 'lucas 10/22/2021 17:02'!mouseMove: anEvent! !BorderedMorph subclass: #LOGame	instanceVariableNames: 'cells'	classVariableNames: ''	poolDictionaries: ''	category: 'PBE-lightsOut'!!LOGame methodsFor: 'game logic' stamp: 'lucas 10/22/2021 16:30'!toggleNeighboursOfCellAt: i at: j	i > 1		ifTrue: [ (cells at: i - 1 at: j) toggleState ].	i < self cellsPerSide		ifTrue: [ (cells at: i + 1 at: j) toggleState ].	j > 1		ifTrue: [ (cells at: i at: j - 1) toggleState ].	j < self cellsPerSide		ifTrue: [ (cells at: i at: j + 1) toggleState ]! !!LOGame methodsFor: 'initialization' stamp: 'lucas 10/22/2021 16:46'!initialize| sampleCell width height n |super initialize.n := self cellsPerSide.sampleCell := LOCell new.width := sampleCell width.height := sampleCell height.self bounds: (5 @ 5 extent: (width * n) @ (height * n) + (2 * selfborderWidth)).cells := Array2D new: n tabulate: [ :i :j | self newCellAt: i at: j ]! !!LOGame methodsFor: 'initialization' stamp: 'lucas 10/22/2021 16:56'!newCellAt: i at: j	"Create a cell for position (i,j) and add it to my on-screen	representation at the appropriate screen position. Answer the	new cell"	| c origin |	c := LOCell new.	origin := self innerBounds origin.	self addMorph: c.	c position: ((i - 1) * c width) @ ((j - 1) * c height) + origin.	c mouseAction: [ self toggleNeighboursOfCellAt: i at: j ].	^ c! !!LOGame methodsFor: 'accessing' stamp: 'lucas 10/22/2021 16:01'!cellsPerSide	"The number of cells along each sidde of the game"	^10! !